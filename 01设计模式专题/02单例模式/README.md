# 单例模式

单例模式属于**创建型模式**，指在任何情况下都只有一个实例，并提供一个全局的访问点。

特征：

​	1..构造方法私有

一、饿汉式单例

在单例类首次加载时，就创建实例

优点：没有加任何锁，执行效率比较高

缺点：类加载时就初始化了，浪费内存

二、懒汉式单例模式

在使用时才进行创建实例

synchronized、双重检查锁、静态内部类形式。

cpu执⾏时会转换成指令执⾏

1 、 分配 的 存 给这个 对象

2、初始化 对象

3、将 初始化 好的 对象 和 可存 地址 建⽴ 关联 赋值

4、 ⽤户 初次 访问

执⾏ 时 2 和 3 可能 会 不 确定 指令 重排 了 

在 lazy 对象 上 添加 volatile 关键字 禁⽌ 指令 重排

三、注册式单例

将会每一个实例登录到某个地方，使用唯一标识获取实例

枚举式单例、容器缓存式单例

四、ThreadLocal单例

ThreadLocal不能保证全局唯一，但可以保证在单个线程中唯一

